from fastapi import APIRouter, HTTPException
from app.models.{{ .name | snakeCase }} import {{ .name | pascalCase }}
from typing import List

router = APIRouter()

# In-memory storage for demonstration
db: List[{{ .name | pascalCase }}] = []

@router.get("/", response_model=List[{{ .name | pascalCase }}])
async def get_all():
    return db

@router.post("/", response_model={{ .name | pascalCase }})
async def create(item: {{ .name | pascalCase }}):
    db.append(item)
    return item

@router.get("/{id}", response_model={{ .name | pascalCase }})
async def get_one(id: int):
    # This is a simplified example
    if id < len(db):
        return db[id]
    raise HTTPException(status_code=404, detail="{{ .name }} not found")
