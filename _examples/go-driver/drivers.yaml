package: storage
description: Cloud storage abstraction with pluggable drivers

# The facade API methods
methods:
  - name: Get
    args:
      - name: ctx
        type: context.Context
      - name: key
        type: string
    returns:
      - type: io.ReadCloser
      - type: error
    description: Retrieves an object by key

  - name: Put
    args:
      - name: ctx
        type: context.Context
      - name: key
        type: string
      - name: data
        type: io.Reader
    returns:
      - type: error
    description: Stores an object with the given key

  - name: Delete
    args:
      - name: ctx
        type: context.Context
      - name: key
        type: string
    returns:
      - type: error
    description: Deletes an object by key

  - name: List
    args:
      - name: ctx
        type: context.Context
      - name: prefix
        type: string
    returns:
      - type: "[]string"
      - type: error
    description: Lists objects matching the prefix

  - name: Exists
    args:
      - name: ctx
        type: context.Context
      - name: key
        type: string
    returns:
      - type: bool
      - type: error
    description: Checks if an object exists

# Driver implementations
drivers:
  - name: s3
    description: Amazon S3 driver
    configFields:
      - name: Region
        type: string
      - name: Bucket
        type: string
      - name: AccessKeyID
        type: string
      - name: SecretAccessKey
        type: string

  - name: gcs
    description: Google Cloud Storage driver
    configFields:
      - name: Project
        type: string
      - name: Bucket
        type: string
      - name: CredentialsFile
        type: string

  - name: azure
    description: Azure Blob Storage driver
    configFields:
      - name: AccountName
        type: string
      - name: AccountKey
        type: string
      - name: Container
        type: string

  - name: filesystem
    description: Local filesystem driver
    configFields:
      - name: BasePath
        type: string
      - name: CreateDirs
        type: bool

  - name: memory
    description: In-memory driver for testing
    configFields:
      - name: MaxSize
        type: int64
